# [ê·¸ë˜í”„] ì¸ì ‘ í–‰ë ¬, ì¸ì ‘ ë¦¬ìŠ¤íŠ¸, ê·¸ë˜í”„ íƒìƒ‰(DFS, BFS, ë…¸ë“œ ê°„ì˜ íƒìƒ‰)

ê·¸ë˜í”„ ê´€ë ¨ ë¬¸ì œë¥¼ í’€ ë•Œ, ë¬¸ì œ ìƒí™©ì„ ê·¸ë˜í”„ë¡œ ëª¨ë¸ë§í•˜ì—¬ í‘¸ëŠ” ê³¼ì •ì—ì„œ
ë…¸ë“œ ê°„ì˜ ì—°ê²° ê´€ê³„ë¥¼ ë‚˜íƒ€ë‚´ê¸° ìœ„í•œ ë‘ ê°€ì§€ ë°©ì‹
1. ì¸ì ‘ í–‰ë ¬
2. ì¸ì ‘ ê·¸ë˜í”„

ps. ì½”ë“œì—ì„œ ì‚¬ìš©ë˜ëŠ” ê·¸ë˜í”„ëŠ” ì„œë¡œ ì¸ì ‘í•œ ë…¸ë“œë“¤ì„ ë‚˜ì—´í•œ input ê°’ìœ¼ë¡œ ê°€ì •

`ex)`

```py
numOfNodes = 6
data = [(1, 2), (1, 5), (2, 3), (2, 5), (3, 4), (4, 5), (4, 6)]
```

<img src="https://user-images.githubusercontent.com/45249101/112160924-fc586300-8c2d-11eb-955b-672ca970057a.jpeg" width=400px>

---

## ì¸ì ‘ í–‰ë ¬

ê·¸ë˜í”„ì˜ ë…¸ë“œ ê°„ì˜ ê´€ê³„ë¥¼ 2ì°¨ì› ë°°ì—´(Nested List)ë¡œ ë‚˜íƒ€ë‚´ëŠ” ë°©ì‹

ì¥ì  ğŸ˜
- ì´ë¯¸ ì•Œë ¤ì§„ ë‘ ë…¸ë“œ i, j ê°„ì˜ ê´€ê³„ë¥¼ íƒìƒ‰í•˜ëŠ”ë° O(1) ì‹œê°„ ë³µì¡ë„ë¥¼ ê°€ì§„ë‹¤\
ex) `graph[i][j] = 1 or 0`

ë‹¨ì  ğŸ˜¡
- íŠ¹ì • ë…¸ë“œ iì— ëŒ€í•˜ì—¬ ì¸ì ‘í•œ ë…¸ë“œë“¤ì„ íƒìƒ‰í•  ë•ŒëŠ” O(N) ì‹œê°„ ë³µì¡ë„ë¥¼ ê°€ì§„ë‹¤\
ex) `graph[i][1] ~ graph[i][N] ëª¨ë‘ í™•ì¸`

<img src="https://user-images.githubusercontent.com/45249101/112160924-fc586300-8c2d-11eb-955b-672ca970057a.jpeg" width=400px>

```py
graph = [
    [0, 0, 0, 0, 0, 0, 0], # 0
    [0, 0, 1, 0, 0, 1, 0], # 1
    [0, 1, 0, 1, 0, 1, 0], # 2
    [0, 0, 1, 0, 1, 0, 0], # 3
    [0, 0, 0, 1, 0, 1, 1], # 4
    [0, 1, 1, 0, 1, 0, 0], # 5
    [0, 0, 0, 0, 1, 0, 0]  # 6
]
```
> ë…¸ë“œ iì™€ j ì‚¬ì´ì— ê°„ì„ ì´ ì¡´ì¬í•˜ë©´ graph[i][j] = 1, ì•„ë‹ˆë©´ 0\
> *ì´ë•Œ ê°€ì¤‘ì¹˜(n)ê°€ ìˆëŠ” ê·¸ë˜í”„ë¼ë©´, nìœ¼ë¡œ í‘œì‹œ ê°€ëŠ¥*

*Python êµ¬í˜„*

```py
numOfNodes = 6
data = [(1, 2), (1, 5), (2, 3), (2, 5), (3, 4), (4, 5), (4, 6)]

graph = [[0] * (numOfNodes+1) for _ in range(numOfNodes+1)]

for node in data:
    graph[node[0]][node[1]] = 1
    graph[node[1]][node[0]] = 1
```

---

## ì¸ì ‘ ê·¸ë˜í”„

ê·¸ë˜í”„ì˜ ê° ë…¸ë“œê°€ ì¸ì ‘í•œ ë…¸ë“œë“¤ì„ ì›ì†Œë¡œ ê°€ì§€ëŠ” ë°°ì—´ë¡œ ë‚˜íƒ€ë‚´ëŠ” ë°©ì‹

ì¥ì  ğŸ˜
- ì´ë¯¸ ì•Œë ¤ì§„ ë‘ ë…¸ë“œ i, j ê°„ì˜ ê´€ê³„ë¥¼ íƒìƒ‰í•˜ëŠ”ë° O(1) ì‹œê°„ ë³µì¡ë„ë¥¼ ê°€ì§„ë‹¤\
ex) `graph[i][j] = 1 or 0`

ë‹¨ì  ğŸ˜¡
- íŠ¹ì • ë…¸ë“œ iì— ëŒ€í•˜ì—¬ ì¸ì ‘í•œ ë…¸ë“œë“¤ì„ íƒìƒ‰í•  ë•ŒëŠ” O(N) ì‹œê°„ ë³µì¡ë„ë¥¼ ê°€ì§„ë‹¤\
ex) `graph[i][1] ~ graph[i][N] ëª¨ë‘ í™•ì¸`

<img src="https://user-images.githubusercontent.com/45249101/112160924-fc586300-8c2d-11eb-955b-672ca970057a.jpeg" width=400px>

```py
graph = [
    [],         # 0
    [2, 5],     # 1
    [1, 3, 5],  # 2
    [2, 4],     # 3
    [3, 5, 6],  # 4
    [1, 2, 4],  # 5
    [4],        # 6
]
```

*Python êµ¬í˜„*

```py
numOfNodes = 6
data = [(1, 2), (1, 5), (2, 3), (2, 5), (3, 4), (4, 5), (4, 6)]

graph = [[] for _ in range(numOfNodes+1)]

for node in data:
    graph[node[0]].append(node[1])
    graph[node[1]].append(node[0])
```

---

## DFS & BFS ì•Œê³ ë¦¬ì¦˜

`ex)`

<img src="../Assets/dfs_bfs_ex.png" width="300px">

ps. êµ¬í˜„ì— ì‚¬ìš©ëœ graphëŠ” <u>ì¸ì ‘ ë¦¬ìŠ¤íŠ¸</u> í˜•íƒœì´ë‹¤

```py
node = 5    # ì´ ë…¸ë“œ ê°œìˆ˜
start = 3   # íƒìƒ‰ ì‹œì‘ ë…¸ë“œ
graph = [ [], [2, 3], [1, 5], [1, 4], [3, 5], [2, 4] ]
```

## ê¹Šì´ ìš°ì„  íƒìƒ‰, DFS(Depth First Search)

ë” ê¹Šì€ ë…¸ë“œë¶€í„° ìš°ì„ ì ìœ¼ë¡œ íƒìƒ‰í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜\
**Stack**ì´ë‚˜ ì¬ê·€ í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ êµ¬í˜„í•œë‹¤

*Python êµ¬í˜„*

```py
visited = [False] * (node+1)

# Stack
def dfs_stack(graph, start):
    s = [start]
    while s:
        v = s.pop()
        visited[v] = True
        print(v, end=" ")
        for i in graph[v]:
            if not visited[i]:
                s.append(i)
                visited[i] = True

# Recursive(ì¬ê·€)
def dfs_recursive(graph, v):
    visited[v] = True
    print(v, end=" ")
    for i in graph[v]:
        if not visited[i]:
            dfs(graph, i)
```

*ì‹¤í–‰ ê²°ê³¼*

```py
Stack â†’ 3 4 5 2 1   # Stackì„ í™œìš©í•˜ì—¬, ê°’ì´ ë°˜ëŒ€ë¡œ(í° ìˆ˜ ë¨¼ì €) ë°©ë¬¸ ë¨

Recersive â†’ 3 1 2 5 4
```

## ë„ˆë¹„ ìš°ì„  íƒìƒ‰, BFS(Breadth First Search)

ê°€ê¹Œìš´ ë…¸ë“œ(ê°™ì€ ê¹Šì´)ë¶€í„° ìš°ì„ ì ìœ¼ë¡œ íƒìƒ‰í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜\
**Queue**ë¥¼ ì´ìš©í•˜ì—¬ êµ¬í˜„

*Python êµ¬í˜„*

```py
from collections import deque

visited = [False] * (node+1)

def bfs_queue(graph, start):
    q = deque([start])
    visited[start] = True
    while q:
        v = q.popleft()
        print(v, end=' ')
        for i in graph[v]:
            if not visited[i]:
                q.append(i)
                visited[i] = True
```

*ì‹¤í–‰ ê²°ê³¼*

```py
Queue â†’ 3 1 4 2 5
```

---

## ë‘ ë…¸ë“œ ê°„ì˜ ê²½ë¡œ

ë‘ ë…¸ë“œ ê°„ì˜ íƒìƒ‰(DFS/BFS) ì¤‘ ì°¾ìœ¼ë ¤ëŠ” ë…¸ë“œë¥¼ ë°œê²¬í•˜ê²Œ ë˜ë©´, ê·¸ë•Œê¹Œì§€ ê°™ì´ ì €ì¥í•´ì˜¨ ê²½ë¡œ ë¦¬ìŠ¤íŠ¸ë¥¼ ê²°ê³¼ê°’ìœ¼ë¡œ ë°˜í™˜í•  Pathsì— ì¶”ê°€í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ìµœë‹¨ê±°ë¦¬ ë¿ë§Œ ì•„ë‹ˆë¼ ëª¨ë“  ê²½ë¡œë¥¼ êµ¬í•  ìˆ˜ ìˆë‹¤.

`ex)`

<img src="../Assets/dfs_bfs_ex.png" width="300px">

```py
start = 1
end = 4     # 1ë¶€í„° 4ê¹Œì§€ì˜ ëª¨ë“  ê²½ë¡œ
```

*Python êµ¬í˜„*

```py
# DFS (Stack)
def dfs_paths(graph, start, end):
    paths = []
    s = [(start, [start])]
    while s:
        v, p = s.pop()
        if v == end:
            path.append(p) # return p <= ìµœë‹¨ ê²½ë¡œ ë°˜í™˜
        else:
            for i in graph[v]:
                if i not in p:
                    s.append((i, p + [i]))
    return paths

# BFS (Queue)
def bfs_queue(graph, start, end):
    paths = []
    q = deque()
    q.append((start, [start]))
    while q:
        v, p = q.popleft()
        if v == end:
            paths.append(p) # return p <= ìµœë‹¨ ê²½ë¡œ ë°˜í™˜
        for i in graph[v]:
            if i not in p:
                q.append((i, p + [i]))
    return paths
```
> ì—¬ê¸°ì„œ ìµœë‹¨ ê²½ë¡œ ë§Œ êµ¬í•˜ë ¤ë©´, ëª¨ë“  ê°„ì„ ì˜ ê°€ì¤‘ì¹˜ê°€ ë™ì¼(1)ì´ë¼ëŠ” ê°€ì • í•˜ì—, target nodeë¥¼ ì°¾ìœ¼ë©´, ë°”ë¡œ ê·¸ë•Œì˜ pathë¥¼ ë°˜í™˜í•˜ë©´ ëœë‹¤.

> ë¬¸ì œì— ë”°ë¼ ê°€ì¤‘ì¹˜ ë¶€ì—¬ í›„ ìµœì¢… pathsì—ì„œ Max, Min ê²½ë¡œë¥¼ ì¶”ì¶œí•  ìˆ˜ ìˆë‹¤.

*ì‹¤í–‰ ê²°ê³¼*

```py
DFS (Stack) -> [[1, 3, 4], [1, 2, 5, 4]]

BFS (Queue) -> [[1, 3, 4], [1, 2, 5, 4]]
```

---

## ì°¸ê³  ë¬¸í—Œ
- [ê·¸ë˜í”„ - ì¸ì ‘ í–‰ë ¬ê³¼ ì¸ì ‘ ë¦¬ìŠ¤íŠ¸](https://keepdev.tistory.com/75)
- [[ê·¸ë˜í”„] ì¸ì ‘ í–‰ë ¬ê³¼ ì¸ì ‘ ë¦¬ìŠ¤íŠ¸](https://sarah950716.tistory.com/12#footnote_link_12_1)
